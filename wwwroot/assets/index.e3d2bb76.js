import{r as t,o as e,c as a,a as s,w as r,t as o,b as l,d as i,e as n,f as d,u as c,g as u,F as m,h as p,i as g,v as h,j as y,k as b,l as v,m as f,P as w,s as x,n as E,p as S,q as k,x as C,y as O,z as D,A as N,B as R,C as P,D as B}from"./vendor.017c7345.js";const T={setup(){const e=t([{label:"Home",to:"/"},{label:"Brands",to:"/brands"},{label:"Login",to:"/login"},{label:"Register",to:"/register"},{label:"Orders",to:"/previousOrders"},{label:"Branches",to:"/branches"},{label:"Logout",to:"/logout"}]),a=t();return{menuitems:e,menu:a,toggle:t=>{a.value.toggle(t)}}}},z=s("span",{style:{"font-weight":"bold","font-size":"larger"}},"Info3139 CaseStudy",-1),L={class:"footer"};T.render=function(t,i,n,d,c,u){const m=l("Menu"),p=l("Button"),g=l("Toolbar"),h=l("router-view");return e(),a("div",null,[s(g,null,{left:r((()=>[z])),right:r((()=>[s(m,{id:"overlay_menu",ref:"menu",model:d.menuitems,popup:!0},null,8,["model"]),s(p,{icon:"pi pi-bars",onClick:d.toggle},null,8,["onClick"])])),_:1}),s(h),s("div",L," best viewed on mobile device — HALA HAMMAD ©"+o((new Date).getFullYear()),1)])};var M="data:image/png;base64,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";const H={},V=s("img",{class:"logo-image",style:{"margin-top":"2vh"},src:M},null,-1),Z=s("div",{class:"heading"},"Home",-1);H.render=function(t,s){return e(),a("div",null,[V,Z])};const j=async t=>{let e,a=Y();try{let s=await fetch(`/api/${t}`,{method:"GET",headers:a});e=await s.json()}catch(s){console.log(s),e={error:`Error has occured: ${s.message}`}}return e},q=async(t,e)=>{let a,s=Y();try{let r=await fetch(`/api/${t}`,{method:"POST",headers:s,body:JSON.stringify(e)});a=await r.json()}catch(r){a=r}return a},Y=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t},I={setup(){const t=c();i((()=>{a()}));let e=n({status:"",brands:[],products:[],selectedBrand:{},selectedItem:{},dialogStatus:"",itemSelected:!1,qty:0,cart:[]});const a=async()=>{try{e.status="loading brands...";const t=await j("Brand");void 0===t.error?(e.brands=t,e.status=`loaded ${e.brands.length} brands`):e.status=t.error}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}};return{state:e,loadProducts:async()=>{try{e.status=`finding products for brand ${e.selectedBrand}...`;let t=await j(`Product/${e.selectedBrand}`);e.products=t,e.status=`loaded ${e.products.length} Products`,sessionStorage.getItem("cart")&&(e.cart=JSON.parse(sessionStorage.getItem("cart")))}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},onRowSelect:t=>{try{e.selectedItem=t.data,e.dialogStatus="",e.itemSelected=!0}catch(a){console.log(a),e.status=`Error has occured: ${a.message}`}},formatCurrency:t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),addToCart:()=>{const t=e.cart.findIndex((t=>t.id===e.selectedItem.id));0!==e.qty?(-1===t?e.cart.push({id:e.selectedItem.id,qty:e.qty,product:e.selectedItem}):e.cart[t]={id:e.selectedItem.id,qty:e.qty,product:e.selectedItem},e.dialogStatus=`${e.qty} product(s) added`):(-1!==t&&e.cart.splice(t,1),e.dialogStatus="product(s) removed"),sessionStorage.setItem("cart",JSON.stringify(e.cart)),e.qty=0},viewCart:()=>{t.push("cart")}}}},X=s("img",{class:"logo-image",style:{"margin-top":"2vh"},src:M},null,-1),A=s("div",{class:"heading"}," Our Brands",-1),F={class:"status"},G={key:1,style:{"margin-top":"2vh"}},J={style:{"text-align":"center"}},U={style:{"font-weight":"bold","font-size":"larger","margin-top":"3vh","text-align":"left"}},Q={style:{"font-weight":"normal","font-size":"larger","margin-top":"3vh","text-align":"left"}},W={style:{"margin-top":"2vh","text-align":"center"}},K=s("span",{style:{"margin-left":"-10vw","margin-right":"2vw"}},"Qty:",-1),$={style:{"text-align":"center","margin-top":"2vh"}},_=u("   "),tt={key:0,style:{"text-align":"center"},class:"dialog-status"};I.render=function(t,i,n,c,u,m){const p=l("Dropdown"),g=l("Column"),h=l("DataTable"),y=l("InputNumber"),b=l("Button"),v=l("Dialog");return e(),a("div",null,[X,A,s("div",F,o(c.state.status),1),c.state.brands.length>0?(e(),a(p,{key:0,modelValue:c.state.selectedBrand,"onUpdate:modelValue":i[1]||(i[1]=t=>c.state.selectedBrand=t),style:{"text-align":"left"},options:c.state.brands,optionLabel:"name",optionValue:"id",placeholder:"Select Brand",onChange:c.loadProducts},null,8,["modelValue","options","onChange"])):d("",!0),c.state.products.length>0?(e(),a("div",G,[s(h,{value:c.state.products,scrollable:!0,scrollHeight:"60vh",selectionMode:"single",class:"p-datatable-striped",onRowSelect:c.onRowSelect},{default:r((()=>[s(g,{style:{"margin-right":"-35vw"}},{body:r((t=>[s("img",{src:`/img/${t.data.graphicName}.jpg`,alt:t.data.productName,class:"product-image"},null,8,["src","alt"])])),_:1}),s(g,{field:"productName",header:"Product Name"})])),_:1},8,["value","onRowSelect"]),s(v,{visible:c.state.itemSelected,"onUpdate:visible":i[3]||(i[3]=t=>c.state.itemSelected=t),class:"dialog-border"},{default:r((()=>[s("div",J,[s("img",{src:`/img/${c.state.selectedItem.graphicName}.jpg`,alt:c.state.selectedItem.productName,class:"item-image"},null,8,["src","alt"])]),s("div",U,o(c.state.selectedItem.productName)+"-"+o(c.formatCurrency(c.state.selectedItem.msrp)),1),s("div",Q,o(c.state.selectedItem.description),1),s("div",W,[K,s("span",null,[s(y,{id:"qty",min:0,modelValue:c.state.qty,"onUpdate:modelValue":i[2]||(i[2]=t=>c.state.qty=t),step:1,incrementButtonClass:"plus",showButtons:"",buttonLayout:"horizontal",decrementButtonIcon:"pi pi-minus",incrementButtonIcon:"pi pi-plus"},null,8,["modelValue"])])]),s("div",$,[s(b,{label:"Add To Cart",onClick:c.addToCart,class:"p-button-outlined margin-button1"},null,8,["onClick"]),_,c.state.cart.length>0?(e(),a(b,{key:0,label:"View Cart",class:"p-button-outlined margin-button1",onClick:c.viewCart},null,8,["onClick"])):d("",!0)]),""!==c.state.dialogStatus?(e(),a("div",tt,o(c.state.dialogStatus),1)):d("",!0)])),_:1},8,["visible"])])):d("",!0)])};const et={setup(){let t=n({status:"",cart:[],sub:0,tax:0,total:0});c(),i((()=>{sessionStorage.getItem("cart")?(t.cart=JSON.parse(sessionStorage.getItem("cart")),t.cart.map((e=>{t.sub+=e.product.msrp*e.qty,t.tax+=Math.round(.13*e.product.msrp*e.qty*100)/100,t.total+=Math.round((.13*e.product.msrp+e.product.msrp)*e.qty*100)/100}))):t.cart=[]}));const e=()=>{sessionStorage.removeItem("cart"),t.cart=[],t.status="cart cleared"};return{state:t,addCart:async()=>{let a=JSON.parse(sessionStorage.getItem("customer")),s=JSON.parse(sessionStorage.getItem("cart"));try{t.status="sending cart info to server";let r={email:a.email,selections:s},o=await q("order",r);o.indexOf("not")>0||e(),t.status=o}catch(r){console.log(r),t.status=`Error add cart: ${r}`}},clearCart:e,formatCurrency:t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"})}}},at={class:"container"},st=s("img",{class:"logo-image",style:{"margin-top":"2vh"},src:M},null,-1),rt=s("div",{class:"heading"},"Cart Contents",-1),ot=s("img",{class:"product-image",style:{"margin-top":"2vh"},src:"/assets/cart.28dea43a.jpg"},null,-1),lt={class:"status"},it={key:0,id:"cart"},nt={style:{"margin-top":"2vh"}},dt=s("tr",null,[s("td",{style:{"border-bottom":"solid gray 1px",width:"20%","font-weight":"bold"}},"Name"),s("td",{style:{"border-bottom":"solid gray 1px",width:"10%","text-align":"right","padding-right":"3vw"}},"Qty"),s("td",{style:{"border-bottom":"solid gray 1px",width:"20%","font-weight":"bold"}},"Price:"),s("td",{style:{"border-bottom":"solid gray 1px",width:"20%","text-align":"right","padding-right":"3vw"}},"Extended")],-1),ct={style:{"border-bottom":"solid gray 1px",width:"20%","font-weight":"bold"}},ut={style:{"border-bottom":"solid gray 1px",width:"10%","text-align":"right","padding-right":"3vw"}},mt={style:{"border-bottom":"solid gray 1px",width:"20%","font-weight":"bold"}},pt={style:{"border-bottom":"solid gray 1px",width:"20%","text-align":"right","padding-right":"3vw"}},gt={style:{"margin-top":"15vh"}},ht=s("td",{style:{"border-bottom":"solid gray 1px",width:"20%","font-weight":"bold"}},null,-1),yt=s("td",{style:{"border-bottom":"solid gray 1px",width:"10%","text-align":"right","padding-right":"3vw"}},null,-1),bt=s("td",{style:{"border-bottom":"solid gray 1px",width:"20%","font-weight":"bold"}},"Sub:",-1),vt={style:{"border-bottom":"solid gray 1px",width:"20%","text-align":"right","padding-right":"3vw"}},ft=s("td",{style:{"border-bottom":"solid gray 1px",width:"20%","font-weight":"bold"}},null,-1),wt=s("td",{style:{"border-bottom":"solid gray 1px",width:"10%","text-align":"right","padding-right":"3vw"}},null,-1),xt=s("td",{style:{"border-bottom":"solid gray 1px",width:"20%","font-weight":"bold"}},"Tax:",-1),Et={style:{"border-bottom":"solid gray 1px",width:"20%","text-align":"right","padding-right":"3vw"}},St=s("td",{style:{"border-bottom":"solid gray 1px",width:"20%","font-weight":"bold"}},null,-1),kt=s("td",{style:{"border-bottom":"solid gray 1px",width:"10%","text-align":"right","padding-right":"3vw"}},null,-1),Ct=s("td",{style:{"border-bottom":"solid gray 1px",width:"20%","font-weight":"bold"}},"Total:",-1),Ot={style:{"border-bottom":"solid gray 1px",width:"20%","text-align":"right","padding-right":"3vw"}},Dt=u("   ");et.render=function(t,r,i,n,c,u){const g=l("Button");return e(),a("div",at,[st,rt,ot,s("div",lt,o(n.state.status),1),n.state.cart.length>0?(e(),a("div",it,[s("table",nt,[dt,(e(!0),a(m,null,p(n.state.cart,(t=>(e(),a("tr",{key:t.productName},[s("td",ct,o(t.product.productName),1),s("td",ut,o(t.qty),1),s("td",mt,o(n.formatCurrency(t.product.msrp)),1),s("td",pt,o(n.formatCurrency(t.product.msrp*t.qty)),1)])))),128))]),s("table",gt,[s("tr",null,[ht,yt,bt,s("td",vt,o(n.formatCurrency(n.state.sub)),1)]),s("tr",null,[ft,wt,xt,s("td",Et,o(n.formatCurrency(n.state.tax)),1)]),s("tr",null,[St,kt,Ct,s("td",Ot,o(n.formatCurrency(n.state.total)),1)])])])):d("",!0),s(g,{style:{"margin-top":"2vh"},label:"Add Cart",onClick:n.addCart,class:"p-button-outlined margin-button1"},null,8,["onClick"]),Dt,s(g,{style:{"margin-top":"2vh"},label:"Clear Cart",onClick:n.clearCart,class:"p-button-outlined margin-button1"},null,8,["onClick"])])};const Nt={setup(){const t=c(),e=y();let a=n({email:"",password:"",status:"",visibility:"password",validationErrors:[]});return{login:async()=>{await sessionStorage.removeItem("customer");try{if(a.email.trim()?delete a.validationErrors.email:a.validationErrors.email=!0,a.password.trim()?delete a.validationErrors.password:a.validationErrors.password=!0,0===Object.keys(a.validationErrors).length){a.status="logging into server";let s={firstname:"",lastname:"",email:a.email,password:a.password},r=await q("login",s);r.token.indexOf("failed")>0?a.status=r.token:(await sessionStorage.setItem("customer",JSON.stringify(r)),e.params.nextUrl?t.push({name:e.params.nextUrl}):t.push({name:"Home"}))}}catch(s){console.log(`error ${s}`),a.status=`Error has occured: ${s}`}},state:a,showPassword:()=>{a.visibility="text"},hidePassword:()=>{a.visibility="password"}}}},Rt=s("img",{class:"logo-image",style:{"margin-top":"2vh"},src:M},null,-1),Pt=s("div",{class:"heading"},"Login",-1),Bt={class:"status"},Tt={class:"p-fluid"},zt={class:"p-field"},Lt=s("label",{class:"p-field-label",for:"email"},"Email",-1),Mt={class:"p-error"},Ht={class:"p-field"},Vt=s("label",{for:"password",class:"p-field-label"},"Password",-1),Zt={class:"p-input-icon-right"},jt={class:"p-error"};Nt.render=function(t,r,i,n,c,u){const m=l("InputText"),p=l("Button");return e(),a("div",null,[Rt,Pt,s("div",Bt,o(n.state.status),1),s("div",Tt,[s("div",zt,[Lt,s(m,{type:"text",placeholder:"enter email address",id:"email",modelValue:n.state.email,"onUpdate:modelValue":r[1]||(r[1]=t=>n.state.email=t),class:{"p-invalid":n.state.validationErrors.email}},null,8,["modelValue","class"]),g(s("small",Mt,"valid format is required.",512),[[h,n.state.validationErrors.email]])]),s("div",Ht,[Vt,s("span",Zt,[s(m,{placeholder:"enter password",id:"password",type:n.state.visibility,modelValue:n.state.password,"onUpdate:modelValue":r[2]||(r[2]=t=>n.state.password=t),class:{"p-invalid":n.state.validationErrors.password}},null,8,["type","modelValue","class"]),"password"===n.state.visibility?(e(),a("i",{key:0,class:"pi pi-eye",onClick:r[3]||(r[3]=(...t)=>n.showPassword&&n.showPassword(...t))})):d("",!0),"text"===n.state.visibility?(e(),a("i",{key:1,class:"pi pi-eye-slash",onClick:r[4]||(r[4]=(...t)=>n.hidePassword&&n.hidePassword(...t))})):d("",!0)]),g(s("small",jt,"Password is required.",512),[[h,n.state.validationErrors.password]])]),s(p,{label:"Login",onClick:n.login,class:"p-button-outlined",style:{margin:"5vh",width:"25vw"}},null,8,["onClick"])])])};const qt={setup(){let t=n({status:"",validationErrors:{},firstname:"",lastname:"",email:"",password:"",visibility:"password"});return{state:t,validateForm:async()=>{if(t.firstname.trim()?delete t.validationErrors.firstname:t.validationErrors.firstname=!0,t.lastname.trim()?delete t.validationErrors.lastname:t.validationErrors.lastname=!0,t.email.trim()?delete t.validationErrors.email:t.validationErrors.email=!0,t.password.trim()?delete t.validationErrors.password:t.validationErrors.password=!0,0===Object.keys(t.validationErrors).length){t.status="registering with server";let a={firstname:t.firstname,lastname:t.lastname,email:t.email,password:t.password};try{let e=await q("register",a);t.status=e.token}catch(e){t.status=e.message}}},showPassword:()=>{t.visibility="text"},hidePassword:()=>{t.visibility="password"}}}},Yt={class:"container"},It=s("img",{class:"logo-image",style:{"margin-top":"2vh"},src:M},null,-1),Xt=s("div",{class:"heading"},"Register",-1),At={class:"status"},Ft={class:"p-fluid"},Gt={class:"p-field"},Jt=s("label",{for:"firstname",class:"p-field-label"},"First Name",-1),Ut={class:"p-error"},Qt={class:"p-field"},Wt=s("label",{for:"lastname",class:"p-field-label"},"Lastname",-1),Kt={class:"p-error"},$t={class:"p-field"},_t=s("label",{for:"lastname",class:"p-field-label"},"Email",-1),te={class:"p-error"},ee={class:"p-field"},ae=s("label",{for:"password",class:"p-field-label"},"Password",-1),se={class:"p-input-icon-right"},re={class:"p-error"};qt.render=function(t,r,i,n,c,u){const m=l("InputText"),p=l("Button");return e(),a("div",Yt,[It,Xt,s("div",At,o(n.state.status),1),s("div",Ft,[s("div",Gt,[Jt,s(m,{placeholder:"enter first name",id:"firstname",modelValue:n.state.firstname,"onUpdate:modelValue":r[1]||(r[1]=t=>n.state.firstname=t),class:{"p-invalid":n.state.validationErrors.firstname}},null,8,["modelValue","class"]),g(s("small",Ut,"Firstname is required.",512),[[h,n.state.validationErrors.firstname]])]),s("div",Qt,[Wt,s(m,{placeholder:"enter last name",id:"lastname",modelValue:n.state.lastname,"onUpdate:modelValue":r[2]||(r[2]=t=>n.state.lastname=t),class:{"p-invalid":n.state.validationErrors.lastname}},null,8,["modelValue","class"]),g(s("small",Kt,"Lastname is required.",512),[[h,n.state.validationErrors.lastname]])]),s("div",$t,[_t,s(m,{placeholder:"enter email address",id:"email",modelValue:n.state.email,"onUpdate:modelValue":r[3]||(r[3]=t=>n.state.email=t),class:{"p-invalid":n.state.validationErrors.email}},null,8,["modelValue","class"]),g(s("small",te,"valid format is required.",512),[[h,n.state.validationErrors.email]])]),s("div",ee,[ae,s("span",se,[s(m,{placeholder:"enter password",id:"password",type:n.state.visibility,modelValue:n.state.password,"onUpdate:modelValue":r[4]||(r[4]=t=>n.state.password=t),class:{"p-invalid":n.state.validationErrors.password}},null,8,["type","modelValue","class"]),"password"===n.state.visibility?(e(),a("i",{key:0,class:"pi pi-eye",onClick:r[5]||(r[5]=(...t)=>n.showPassword&&n.showPassword(...t))})):d("",!0),"text"===n.state.visibility?(e(),a("i",{key:1,class:"pi pi-eye-slash",onClick:r[6]||(r[6]=(...t)=>n.hidePassword&&n.hidePassword(...t))})):d("",!0)]),g(s("small",re,"Password is required.",512),[[h,n.state.validationErrors.email]])]),s(p,{label:"Register",onClick:n.validateForm,class:"p-button-outlined",style:{margin:"5vh",width:"25vw"}},null,8,["onClick"])])])};const oe={setup(){let e=t("goodbye");i((()=>{a()}));const a=()=>{sessionStorage.clear()};return{status:e}}},le={class:"container"},ie=s("img",{class:"logo-image",style:{"margin-top":"2vh"},src:M},null,-1),ne=s("div",{class:"heading"},"Logout",-1),de={class:"status"};oe.render=function(t,r,l,i,n,d){return e(),a("div",le,[ie,ne,s("div",de,o(i.status),1)])};const ce={setup(){let t=n({status:"",dialogStatus:"",orders:[],sub:0,tax:0,total:0,selectedOrder:!1,orderSelected:{},orderDetails:[]});i((()=>{e()}));const e=async()=>{try{let e=JSON.parse(sessionStorage.getItem("customer"));const a=await j(`order/${e.email}`);void 0===a.error?(t.orders=a,t.status=`loaded ${t.orders.length} orders`,t.selectedOrder=!1):t.status=a.error}catch(e){console.log(e),t.status=`Error has occured: ${e.message}`}};return{state:t,formatDate:t=>{let e;e=void 0===t?new Date:new Date(Date.parse(t));let a=e.getDate(),s=e.getMonth()+1,r=e.getFullYear();return e.getHours(),e.getMinutes(),r+"-"+s+"-"+a},onRowSelect:async e=>{try{let a=JSON.parse(sessionStorage.getItem("customer"));t.orderSelected=e.data;const s=await j(`order/${t.orderSelected.id}/${a.email}`);t.orderDetails=s,t.dialogStatus=`details for order ${t.orderSelected.id}`,t.selectedOrder=!0,t.orderDetails.map((e=>{t.sub+=e.cost*e.qtyO,t.tax+=Math.round(.13*e.cost*e.qtyO*100)/100,t.total+=Math.round((.13*e.cost+e.cost)*e.qtyO*100)/100}))}catch(a){console.log(a),t.status=`Error has occured: ${a.message}`}},formatCurrency:t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),formatFullDate:t=>{let e;e=void 0===t?new Date:new Date(Date.parse(t));let a=e.getDate(),s=e.getMonth()+1,r=e.getFullYear(),o=e.getHours(),l=e.getMinutes();return l<10&&(l="0"+l),r+"/"+s+"/"+a+"-"+(o>12?o-12+":"+l+" PM":o+":"+l+" AM")}}}},ue={class:"container"},me=s("img",{class:"logo-image",style:{"margin-top":"2vh"},src:M},null,-1),pe=s("div",{class:"heading"},"Your Orders",-1),ge={class:"status"},he={id:"order-list"},ye={style:{"font-weight":"bold",color:"blue","margin-left":"10vw"},class:"order-head"},be=s("div",{style:{"margin-left":"35vw"}},[s("img",{class:"logo-image",style:{"margin-top":"2vh"},src:M})],-1),ve=s("div",{style:{"font-weight":"bold","font-size":"20px","margin-left":"30vw"},class:"dialogHeading"},"Quantities",-1),fe=s("div",null,null,-1);ce.render=function(t,i,n,c,m,p){const g=l("Column"),h=l("DataTable"),y=l("Row"),b=l("columnGroup"),v=l("Dialog");return e(),a("div",ue,[me,pe,s("div",ge,o(c.state.status),1),s("div",he,[c.state.orders.length>0?(e(),a(h,{key:0,value:c.state.orders,scrollable:!0,scrollHeight:"60vh",dataKey:"id",class:"p-datatable-striped",selection:c.state.traySelected,"onUpdate:selection":i[1]||(i[1]=t=>c.state.traySelected=t),selectionMode:"single",onRowSelect:c.onRowSelect},{default:r((()=>[s(g,{header:"Order #",field:"id"}),s(g,{header:"Date"},{body:r((t=>[u(o(c.formatDate(t.data.dateCreated)),1)])),_:1})])),_:1},8,["value","selection","onRowSelect"])):d("",!0),s(v,{visible:c.state.selectedOrder,"onUpdate:visible":i[2]||(i[2]=t=>c.state.selectedOrder=t),class:"dialog-border"},{default:r((()=>[s("div",ye," Order:#"+o(c.state.orderDetails[0].orderId)+"    "+o(c.formatFullDate(c.state.orderDetails[0].DateCreated)),1),be,ve,s(h,{value:c.state.orderDetails,scrollable:!0,scrollHeight:"50vh",dataKey:"id",class:"p-datatable-striped"},{default:r((()=>[s(g,{header:"Name",field:"name"}),s(g,{id:"soldQty",header:"S",field:"qtyS"}),s(g,{id:"orderedQty",header:"O",field:"qtyO"}),s(g,{id:"backQty",header:"B",field:"qtyB"}),s(g,{id:"extd",header:"Extended"},{body:r((t=>[u(o(c.formatCurrency(t.data.cost*t.data.qtyO)),1)])),_:1}),s(b,{type:"footer"},{default:r((()=>[s(y,null,{default:r((()=>[s(g,{footer:""}),s(g,{footer:""}),s(g,{footer:""}),s(g,{footer:"Sub:",footerStyle:"text-align: right; font-size: 14px; font-weight: bold;"}),s(g,{footer:c.formatCurrency(c.state.sub),style:{"text-align":"right","font-size":"14px","font-weight":"bold"}},null,8,["footer"])])),_:1}),s(y,null,{default:r((()=>[s(g,{footer:""}),s(g,{footer:""}),s(g,{footer:""}),s(g,{footer:"Tax:",footerStyle:"text-align: right; font-size: 14px; font-weight: bold;"}),s(g,{footer:c.formatCurrency(c.state.tax),style:{"text-align":"right","font-size":"14px","font-weight":"bold"}},null,8,["footer"])])),_:1}),s(y,null,{default:r((()=>[s(g,{footer:""}),s(g,{footer:""}),s(g,{footer:""}),s(g,{footer:"Total:",footerStyle:"text-align: right; font-size: 14px; font-weight: bold; color: blue;"}),s(g,{footer:c.formatCurrency(c.state.total),style:{"text-align":"right","font-size":"14px","font-weight":"bold",color:"blue"}},null,8,["footer"])])),_:1})])),_:1})])),_:1},8,["value"]),fe])),_:1},8,["visible"])])])};const we={name:"Map",setup(){const e=t(null);let a=n({status:"",address:"",latlon:"",threeBranches:[],showmap:!1});return{mapRef:e,state:a,getLatLon:async()=>{try{a.showmap=!0;const t=window.tt;let s=`https://api.tomtom.com/search/2/geocode/${a.address}.json?key=hmAjM7AbxnG3reyJAOXOk7q4aBLVxQCe\n\n `,r=await fetch(s),o=await r.json(),l=o.results[0].position.lat,i=o.results[0].position.lon;a.latlon=`${l}/${i} `;let n=await j(`Branch/${a.latlon}`);a.threeBranches=n;let d=t.map({key:"hmAjM7AbxnG3reyJAOXOk7q4aBLVxQCe",container:e.value,source:"vector/1/basic-main",center:[l,i],zoom:8});d.addControl(new t.FullscreenControl),d.addControl(new t.NavigationControl),a.threeBranches.map((e=>{let a=(new t.Marker).setLngLat([e.longitude,e.latitude]).addTo(d),s=new t.Popup({offset:25});s.setHTML(`<div id="popup">Branch#: ${e.id}</div><div>${e.street}, ${e.city}<br/>${e.distance.toFixed(2)} km</div>`),a.setPopup(s)}))}catch(t){a.status=t.message}}}}},xe=s("img",{class:"logo-image",style:{"margin-top":"2vh"},src:M},null,-1),Ee=s("div",{class:"heading"},"Three Closest Branches",-1),Se=s("br",null,null,-1),ke={style:{margin:"3vh"}},Ce={id:"map",ref:"mapRef"};we.render=function(t,r,o,i,n,d){const c=l("InputText"),u=l("Button");return e(),a("div",null,[xe,Ee,s("div",null,[s(c,{placeholder:"enter current address",id:"address",modelValue:i.state.address,"onUpdate:modelValue":r[1]||(r[1]=t=>i.state.address=t)},null,8,["modelValue"]),Se]),s("div",ke,[s(u,{label:"Find 3 Closest",onClick:i.getLatLon,class:"p-button-outlined",style:{width:"30vw"}},null,8,["onClick"])]),g(s("div",Ce,null,512),[[h,!0===i.state.showmap]])])};const Oe=[{path:"/",name:"Home",component:H},{path:"/brands",name:"Brands",component:I},{path:"/cart",name:"Cart",component:et},{path:"/register",name:"Register",component:qt},{path:"/logout",name:"Logout",component:oe},{path:"/login",name:"login",component:Nt},{path:"/branches",name:"Branches",component:we},{path:"/previousOrders",name:"PreviousOrders",component:ce}],De=b({history:v(),routes:Oe});De.beforeEach(((t,e,a)=>{!["/login","/register","/logout","/map"].includes(t.path)&&!sessionStorage.getItem("customer")?a({name:"login",params:{nextUrl:t.name}}):a()}));const Ne=f(T);Ne.use(w),Ne.use(De),Ne.component("Button",x),Ne.component("Dropdown",E),Ne.component("DataTable",S),Ne.component("Column",k),Ne.component("ColumnGroup",C),Ne.component("Row",O),Ne.component("Dialog",D),Ne.component("InputNumber",N),Ne.component("Toolbar",R),Ne.component("Menu",P),Ne.component("InputText",B),Ne.mount("#app");
